---
title: 'D칤a 6 de 24: maskString'
subtitle: Las 24 funciones antes de navidad
pubDate: '2025-12-06'
heroImage: /images/blog/2025/12/24-dias-de-navidad-dia-6/hero.png
author: Asdr칰bal Chirinos
featured: false
tags:
  - web
  - javascript
slug: 24-dias-de-navidad-dia-6
---
import PostReference from '@components/PostReference.astro';

Seguimos avanzando en esta serie donde cada jornada exploramos un peque침o helper pensado para facilitar tareas comunes en proyectos reales. Ayer trabajamos con utilidades centradas en manipulaci칩n de texto y hoy continuamos esa l칤nea con una funci칩n pr치ctica y usada con frecuencia al manejar datos sensibles. Su prop칩sito es sencillo y muy 칰til: ocultar informaci칩n sin alterar la longitud original.

<PostReference slug="24-dias-de-navidad-dia-5" />


### maskString

La funci칩n `maskString` ofrece una forma controlada de enmascarar partes de una cadena mientras mantiene su tama침o intacto. Es ideal para mostrar versiones protegidas de datos como correos, tel칠fonos, tokens o identificadores sin exponerlos por completo. A diferencia de una soluci칩n manual basada en substrings, esta funci칩n es consciente de puntos de c칩digo Unicode, lo que ayuda a evitar errores con emojis o caracteres combinados.

Adem치s permite decidir cu치ntos caracteres dejar visibles al inicio y al final, as칤 como elegir el car치cter de m치scara, lo que la hace flexible en diversos contextos como interfaces, logs o reportes.

### C칩digo de la funci칩n

```js
/**
 * Enmascara una cadena preservando longitud con un car치cter dado.
 * @param {string} str Cadena fuente.
 * @param {object} [options]
 * @param {number} [options.keepStart=0] Caracteres visibles al inicio.
 * @param {number} [options.keepEnd=0] Caracteres visibles al final.
 * @param {string} [options.maskChar='*'] Car치cter m치scara (un code point recomendado).
 * @returns {string}
 */
export function maskString(str, options = {}) {
  if (typeof str !== 'string') return '';
  const { keepStart = 0, keepEnd = 0, maskChar = '*' } = options;
  if (keepStart < 0 || keepEnd < 0) throw new Error('keepStart/keepEnd deben ser >= 0');
  const arr = Array.from(str); // code point aware
  const len = arr.length;
  const start = arr.slice(0, keepStart).join('');
  const end = keepEnd ? arr.slice(len - keepEnd).join('') : '';
  const maskedCount = Math.max(0, len - keepStart - keepEnd);
  const middle = maskChar.repeat(maskedCount);
  return start + middle + end;
}
````

### C칩mo usarla

#### Caso b치sico

```js
maskString('supersecreto');
// Resultado: ***********
```

#### Manteniendo caracteres visibles al inicio

```js
maskString('supersecreto', { keepStart: 2 });
// Resultado: su*********
```

#### Inicio y final visibles

```js
maskString('supersecreto', { keepStart: 2, keepEnd: 3 });
// Resultado: su*******eto
```

#### Usando un car치cter de m치scara diferente

```js
maskString('token-12345', { keepStart: 1, keepEnd: 2, maskChar: '#' });
// Resultado: t#######45
```

#### Funciona correctamente con emojis y Unicode

```js
maskString('游댠ClaveUltra游댠', { keepStart: 1, keepEnd: 1 });
// Resultado: 游댠********游댠
```

---

Una herramienta sencilla puede marcar la diferencia cuando se trata de proteger datos sin perder legibilidad. Ma침ana seguiremos explorando funciones que complementan estas tareas y mantienen tu caja de utilidades cada vez m치s completa.
